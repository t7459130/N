(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{9659:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/CarForm",function(){return n(6621)}])},6621:function(e,a,n){"use strict";n.r(a);var l=n(5893),i=n(7294),r=n(2537);a.default=function(e){let{onAddCar:a}=e,[n,t]=(0,i.useState)({make:"",model:"",variant:"",year:"",price:"",transmission:"",fuelType:"",mileage:"",bodyStyle:"",colour:"",engineSize:"",fuelEconomy:"",images:[],description:""}),[o,u]=(0,i.useState)(!1),handleChange=e=>{let{name:a,value:n}=e.target;t(e=>({...e,[a]:n}))},handleFileInput=async e=>{let a=e.target.files;u(!0);try{let e=[];for(let n of a){let a=await (0,r.upload)(n.name,n,{access:"public"});e.push(a.url)}t(a=>({...a,images:[...a.images,...e]}))}catch(e){alert("Image upload failed: "+e.message)}finally{u(!1)}};return(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!n.make||!n.model||!n.year||!n.price){alert("Please fill in required fields.");return}if(0===n.images.length){alert("Please upload at least one image");return}a(n),t({make:"",model:"",variant:"",year:"",price:"",transmission:"",fuelType:"",mileage:"",bodyStyle:"",colour:"",engineSize:"",fuelEconomy:"",images:[],description:""})},children:[(0,l.jsx)("input",{name:"make",value:n.make,onChange:handleChange,placeholder:"Make",required:!0}),(0,l.jsx)("input",{name:"model",value:n.model,onChange:handleChange,placeholder:"Model",required:!0}),(0,l.jsx)("input",{name:"variant",value:n.variant,onChange:handleChange,placeholder:"Variant"}),(0,l.jsx)("input",{name:"year",type:"number",value:n.year,onChange:handleChange,placeholder:"Year",required:!0}),(0,l.jsx)("input",{name:"price",type:"number",value:n.price,onChange:handleChange,placeholder:"Price",required:!0}),(0,l.jsx)("input",{name:"transmission",value:n.transmission,onChange:handleChange,placeholder:"Transmission"}),(0,l.jsx)("input",{name:"fuelType",value:n.fuelType,onChange:handleChange,placeholder:"Fuel Type"}),(0,l.jsx)("input",{name:"mileage",value:n.mileage,onChange:handleChange,placeholder:"Mileage"}),(0,l.jsx)("input",{name:"bodyStyle",value:n.bodyStyle,onChange:handleChange,placeholder:"Body Style"}),(0,l.jsx)("input",{name:"colour",value:n.colour,onChange:handleChange,placeholder:"Colour"}),(0,l.jsx)("input",{name:"engineSize",value:n.engineSize,onChange:handleChange,placeholder:"Engine Size"}),(0,l.jsx)("input",{name:"fuelEconomy",value:n.fuelEconomy,onChange:handleChange,placeholder:"Fuel Economy"}),(0,l.jsx)("textarea",{name:"description",value:n.description,onChange:handleChange,placeholder:"Description",rows:3}),(0,l.jsx)("label",{children:"Upload Images"}),(0,l.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:handleFileInput,disabled:o}),o&&(0,l.jsx)("p",{children:"Uploading images..."}),(0,l.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:n.images.map((e,a)=>(0,l.jsx)("img",{src:e,alt:"Car ".concat(a),style:{width:100,marginRight:10}},a))}),(0,l.jsx)("button",{type:"submit",disabled:o,children:"Add Car"})]})}}},function(e){e.O(0,[774,537,888,179],function(){return e(e.s=9659)}),_N_E=e.O()}]);